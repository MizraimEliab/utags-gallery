<!-- <app-navbar></app-navbar> -->
<!-- <app-sidebar></app-sidebar> -->
<button mat-fab color="primary" class="text-center m-5"> 
    <mat-icon mat-list-item data-bs-toggle="modal" data-bs-target="#exampleModal" mat-list-icon>add</mat-icon>
</button>

<button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#exampleModalChannel" *ngIf="!channel">Create Channel</button>

<!-- Modal Post -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h2 class="modal-title" id="exampleModalLabel">Add New Post</h2>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<form (submit)="newPost()" name="formRecipe" #formRecipe="ngForm">
					<div class="form-group form-outline mb-4">
						<label for="exampleInputEmail1" class="form-label">Post title</label>
						<input [(ngModel)]="post.title"  type="text" class="form-control" name="title" placeholder="Post title" required>
					</div>
                    <div class="form-group form-outline mb-4">
						<label for="exampleInputEmail1" class="form-label">Post image</label>
						<input style="width: 80%;" [(ngModel)]="post.image_url"  type="text" class="form-control" name="image_url" placeholder="Post image (opcional)" required> <a  class="btn btn-primary" (click)="getImagesPixabay(post.image_url)"><mat-icon >search</mat-icon></a> 
					</div>
                    <!-- aqui ponemos la images -->
                    <div class="row">
                        <div class="column" *ngFor="let x of ListImages">
                            <a (click)="getURL(x)"><img src="{{x}}" alt="" style="width: 100%;"></a>
                        </div>
                    </div>
    

                    <div class="form-group form-outline mb-4">
						<label for="exampleInputEmail1" class="form-label">Post content</label>
						<textarea [(ngModel)]="post.content"  type="text" class="form-control" name="content" placeholder="Post content" required></textarea>
					</div>
                    
                    
					<div class="modal-footer">
						<button type="button" class="btn btn-danger" data-bs-dismiss="modal" >Cancel</button>
						<div class="d-grid gap-2">
                            <button class="btn btn-primary" type="submit">Create new post</button>
                        </div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>


<!-- Modal Channel -->
<div class="modal fade" id="exampleModalChannel" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h2 class="modal-title" id="exampleModalLabel">Add New Channel</h2>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<form (submit)="newChannel()" name="formRecipe" #formRecipe="ngForm">
					<div class="form-group form-outline mb-4">
						<label for="exampleInputEmail1" class="form-label">Channel title</label>
						<input [(ngModel)]="addChannel.name"  type="text" class="form-control" name="name" placeholder="Channel title" required>
					</div>    

                    <div class="form-group form-outline mb-4">
						<label for="exampleInputEmail1" class="form-label">Channel description</label>
						<textarea [(ngModel)]="addChannel.description" type="text" class="form-control" name="description" placeholder="Channel description" required></textarea>
					</div>
                    
                    
					<div class="modal-footer">
						<button type="button" class="btn btn-danger" data-bs-dismiss="modal" >Cancel</button>
						<div class="d-grid gap-2">
                            <button class="btn btn-primary" type="submit">Create new channel</button>
                        </div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>


<!-- name, description, cantidad de publicaciones -->

<h2 class="text-center mt-5">Channel Name: {{nameChannel}}</h2>
<h2 class="text-center mt-5"> Description: {{descriptionChanne}}</h2>
<h2 class="text-center mt-5"> Post Quantity : {{postChannel}}</h2>
<hr>
<h1 class="text-center mt-5">My Posts</h1>

<!-- All posts -->


<div class="card" style="width: 40rem; margin: auto; margin-bottom: 2%;" *ngFor="let item of arrPosts" >
    <img class="card-img-top" src="{{item.image_url}}" alt="Card image cap">
    <div class="card-body">
      <a ><h1 class="card-title" style="text-align: center;" >{{item.title}}</h1></a>
      <p class="card-text">{{item.content}}</p>
    </div>
  </div>


<!-- <div class="card m-5" *ngFor="let item of arrPost">
    <div class="card-header text-center text-uppercase fs-4 fw-bold">
      {{item.title}}
    </div>
    <div class="card-body">
      <p class="card-title text-end fs-5">Channel: {{item.channel_id}}</p>
      <p class="card-text fs-5">{{item.content}}</p>
      <div class="col text-end">
        <button class="btn btn-success">Like</button>
      </div>
    </div>
</div> -->
